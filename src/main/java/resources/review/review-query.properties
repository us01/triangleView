logoutMainHotListSelect=SELECT R.RWNO, TC.RWCOUNT AS TODAYRWCOUNT, P.FILENAME, RL.LIKECOUNT, M.NICK, M.USERID, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.WRITEDATE, R.COORlINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.RWSUPPORT FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO) JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN TODAYCOUNT TC ON(TC.RWNO = R.RWNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO HAVING RWNO IN((SELECT RWNO FROM (SELECT ROWNUM, RWNO FROM TODAYCOUNT WHERE TODAYDATE = TO_CHAR(SYSDATE, 'YYYY-MM-DD') ORDER BY RWCOUNT DESC) WHERE ROWNUM BETWEEN 1 AND 4))) RL ON(RL.RWNO = R.RWNO) WHERE P.TABLETYPE = 2 AND P.FILESEQNO = 0 ORDER BY LIKECOUNT DESC
loadOneForm=SELECT R.RWCONTENT, P.FILENAME, LIKEME, R.RWTITLE, TO_CHAR(R.WRITEDATE, 'YYYY-MM-DD') AS RWWRITEDATE, R.COORLINK, R.RWCOMMENT, R.RWHASH, R.RWGRADE, R.RWCONTENTTYPE, R.RWNO, M.NICK, RWLIKECOUNT, RWCOMMENTCOUNT FROM (SELECT COUNT(USERNO) AS RWLIKECOUNT FROM RWLIKE WHERE RWNO = ?), (SELECT COUNT(USERNO) AS RWCOMMENTCOUNT FROM RWCOMMENT WHERE RWNO = ?), (SELECT COUNT(USERNO) AS LIKEME FROM RWLIKE WHERE RWNO = ? AND USERNO = ?), REVIEW R JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN PLUSFILE P ON(P.USERNO = M.USERNO) WHERE RWNO = ?
loadOneFormCardImg=SELECT FILECODE, REVIEWNO, FILENAME, TABLETYPE, FILESEQNO FROM PLUSFILE WHERE REVIEWNO = ? AND FILESEQNO NOT IN(0) ORDER BY FILESEQNO ASC
loadOneFormComment=SELECT P.FILENAME, RW.RWNO, RW.COMMENTNO, RW.COMMENTCONTENT, RW.PARENTCOMMENTNO, TO_CHAR(RW.RWDATE, 'YYYY-MM-DD HH:MM:SS') AS RWDATE, RW.USERNO, M.NICK FROM RWCOMMENT RW JOIN MEMBER M ON(RW.USERNO = M.USERNO) JOIN PLUSFILE P ON(M.USERNO = P.USERNO) WHERE RW.RWNO = ? AND P.TABLETYPE = 0 ORDER BY DECODE(PARENTCOMMENTNO, 0, COMMENTNO, PARENTCOMMENTNO) ASC, PARENTCOMMENTNO ASC
selectInterestReview=SELECT RL.LIKECOUNT, P.FILENAME, R.RWNO, R.USERNO, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK, M.USERID FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO) JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RL ON(R.RWNO = RL.RWNO) WHERE R.CATEGORYTYPE IN(SELECT C.CATEGORYCODE FROM CATEGORY C JOIN INTERESTCATEGORY IC ON(IC.CATEGORYCODE = C.CATEGORYCODE) WHERE IC.USERNO IN(SELECT USERNO FROM MEMBER WHERE USERNO = ?)) AND P.TABLETYPE = 2 AND P.FILESEQNO = 0 ORDER BY R.WRITEDATE ASC
searchHash=SELECT RL.LIKECOUNT, P.FILENAME, R.RWNO, R.USERNO, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK, M.USERID FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO) JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RL ON(R.RWNO = RL.RWNO) JOIN HASHTAG H ON(R.RWNO = H.RWNO) WHERE H.HASHCODE = ? AND P.TABLETYPE = 2 AND P.FILESEQNO = 0
insertWrite1Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,0,?,0,NULL,?,0,0,?)
insertWrite2Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,1,?,0,NULL,?,0,0,?)
insertWrite3Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,2,?,0,NULL,?,0,0,?)
userHomeReviewSelect=SELECT RL.LIKECOUNT, R.RWNO, R.USERNO, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK FROM REVIEW R JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RL ON(R.RWNO = RL.RWNO) WHERE USERID = ?
addComment=INSERT INTO RWCOMMENT(RWNO, COMMENTNO, COMMENTCONTENT, PARENTCOMMENTNO, RWDATE, USERNO) VALUES(?, (SELECT NVL2(MAX(COMMENTNO), MAX(COMMENTNO), 0) FROM RWCOMMENT WHERE RWNO = ?) + 1, ?, ?, SYSDATE, ?)
insertWrite1Attachment=INSERT INTO PLUSFILE(FILECODE,REVIEWNO,FILEORIGINNAME,FILENAME,FILESIZE,FILETYPE,FILEENROLLDATE,TABLETYPE,USERNO,NOTICECODE,FILESEQNO) VALUES (SEQ_PLUSFILE_FILECODE.NEXTVAL, null, ?, ?, ?,?, SYSDATE, 2, ?, null,?)
insertWrite2Attachment=INSERT INTO PLUSFILE(FILECODE,REVIEWNO,FILEORIGINNAME,FILENAME,FILESIZE,FILETYPE,FILEENROLLDATE,TABLETYPE,USERNO,NOTICECODE,FILESEQNO) VALUES (SEQ_PLUSFILE_FILECODE.NEXTVAL, ?, ?, ?, ?,?, SYSDATE, 2, ?, null,?)
insertWrite3Attachment=INSERT INTO PLUSFILE(FILECODE,REVIEWNO,FILEORIGINNAME,FILENAME,FILESIZE,FILETYPE,FILEENROLLDATE,TABLETYPE,USERNO,NOTICECODE,FILESEQNO) VALUES (SEQ_PLUSFILE_FILECODE.NEXTVAL, null, ?, ?, ?,?, SYSDATE, 2, ?, null,?)
reviewNoCheck=SELECT RWNO FROM REVIEW WHERE USERNO = ? AND ROWNUM = 1 ORDER BY RWNO DESC
insertHashtag=INSERT INTO HASHTAG(HASHCODE,RWNO) VALUES (?,?)